import{r as It,a as Ze,g as fr,j as Y}from"./client-BbprRhkc.js";import{R as J,r as ve}from"./longer_filter_data-CDFXIz1i.js";var Fe=e=>e.type==="checkbox",me=e=>e instanceof Date,te=e=>e==null;const Yt=e=>typeof e=="object";var G=e=>!te(e)&&!Array.isArray(e)&&Yt(e)&&!me(e),cr=e=>G(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,hr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pr=(e,r)=>e.has(hr(r)),gr=e=>{const r=e.constructor&&e.constructor.prototype;return G(r)&&r.hasOwnProperty("isPrototypeOf")},Je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function K(e){if(e instanceof Date)return new Date(e);const r=typeof FileList<"u"&&e instanceof FileList;if(Je&&(e instanceof Blob||r))return e;const t=Array.isArray(e);if(!t&&!(G(e)&&gr(e)))return e;const i=t?[]:Object.create(Object.getPrototypeOf(e));for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=K(e[n]));return i}var Ae=e=>/^\w*$/.test(e),I=e=>e===void 0,et=e=>Array.isArray(e)?e.filter(Boolean):[],tt=e=>et(e.replace(/["|']|\]/g,"").split(/\.|\[/)),T=(e,r,t)=>{if(!r||!G(e))return t;const i=(Ae(r)?[r]:tt(r)).reduce((n,s)=>te(n)?n:n[s],e);return I(i)||i===e?I(e[r])?t:e[r]:i},le=e=>typeof e=="boolean",ie=e=>typeof e=="function",H=(e,r,t)=>{let i=-1;const n=Ae(r)?[r]:tt(r),s=n.length,l=s-1;for(;++i<s;){const a=n[i];let R=t;if(i!==l){const b=e[a];R=G(b)||Array.isArray(b)?b:isNaN(+n[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=R,e=e[a]}};const gt={BLUR:"blur",FOCUS_OUT:"focusout"},se={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},de={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},yr=J.createContext(null);yr.displayName="HookFormControlContext";var vr=(e,r,t,i=!0)=>{const n={defaultValues:r._defaultValues};for(const s in e)Object.defineProperty(n,s,{get:()=>{const l=s;return r._proxyFormState[l]!==se.all&&(r._proxyFormState[l]=!i||se.all),e[l]}});return n};const mr=typeof window<"u"?J.useLayoutEffect:J.useEffect;var re=e=>typeof e=="string",br=(e,r,t,i,n)=>re(e)?(i&&r.watch.add(e),T(t,e,n)):Array.isArray(e)?e.map(s=>(i&&r.watch.add(s),T(t,s))):(i&&(r.watchAll=!0),t),Ke=e=>te(e)||!Yt(e);function ge(e,r,t=new WeakSet){if(Ke(e)||Ke(r))return Object.is(e,r);if(me(e)&&me(r))return Object.is(e.getTime(),r.getTime());const i=Object.keys(e),n=Object.keys(r);if(i.length!==n.length)return!1;if(t.has(e)||t.has(r))return!0;t.add(e),t.add(r);for(const s of i){const l=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=r[s];if(me(l)&&me(a)||G(l)&&G(a)||Array.isArray(l)&&Array.isArray(a)?!ge(l,a,t):!Object.is(l,a))return!1}}return!0}const wr=J.createContext(null);wr.displayName="HookFormContext";var xr=(e,r,t,i,n)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:n||!0}}:{},Ee=e=>Array.isArray(e)?e:[e],yt=()=>{let e=[];return{get observers(){return e},next:n=>{for(const s of e)s.next&&s.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(s=>s!==n)}}),unsubscribe:()=>{e=[]}}};function Xt(e,r){const t={};for(const i in e)if(e.hasOwnProperty(i)){const n=e[i],s=r[i];if(n&&G(n)&&s){const l=Xt(n,s);G(l)&&(t[i]=l)}else e[i]&&(t[i]=s)}return t}var ee=e=>G(e)&&!Object.keys(e).length,rt=e=>e.type==="file",ke=e=>{if(!Je)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},qt=e=>e.type==="select-multiple",it=e=>e.type==="radio",Sr=e=>it(e)||Fe(e),Ie=e=>ke(e)&&e.isConnected;function _r(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=I(e)?i++:e[r[i++]];return e}function Dr(e){for(const r in e)if(e.hasOwnProperty(r)&&!I(e[r]))return!1;return!0}function q(e,r){const t=Array.isArray(r)?r:Ae(r)?[r]:tt(r),i=t.length===1?e:_r(e,t),n=t.length-1,s=t[n];return i&&delete i[s],n!==0&&(G(i)&&ee(i)||Array.isArray(i)&&Dr(i))&&q(e,t.slice(0,-1)),e}var Er=e=>{for(const r in e)if(ie(e[r]))return!0;return!1};function $t(e){return Array.isArray(e)||G(e)&&!Er(e)}function Qe(e,r={}){for(const t in e){const i=e[t];$t(i)?(r[t]=Array.isArray(i)?[]:{},Qe(i,r[t])):I(i)||(r[t]=!0)}return r}function xe(e,r,t){t||(t=Qe(r));for(const i in e){const n=e[i];if($t(n))I(r)||Ke(t[i])?t[i]=Qe(n,Array.isArray(n)?[]:{}):xe(n,te(r)?{}:r[i],t[i]);else{const s=r[i];t[i]=!ge(n,s)}}return t}const vt={value:!1,isValid:!1},mt={value:!0,isValid:!0};var Gt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!I(e[0].attributes.value)?I(e[0].value)||e[0].value===""?mt:{value:e[0].value,isValid:!0}:mt:vt}return vt},Kt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>I(e)?e:r?e===""?NaN:e&&+e:t&&re(e)?new Date(e):i?i(e):e;const bt={isValid:!1,value:null};var Qt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,bt):bt;function wt(e){const r=e.ref;return rt(r)?r.files:it(r)?Qt(e.refs).value:qt(r)?[...r.selectedOptions].map(({value:t})=>t):Fe(r)?Gt(e.refs).value:Kt(I(r.value)?e.ref.value:r.value,e)}var Rr=(e,r,t,i)=>{const n={};for(const s of e){const l=T(r,s);l&&H(n,s,l._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:i}},Ve=e=>e instanceof RegExp,Se=e=>I(e)?e:Ve(e)?e.source:G(e)?Ve(e.value)?e.value.source:e.value:e,xt=e=>({isOnSubmit:!e||e===se.onSubmit,isOnBlur:e===se.onBlur,isOnChange:e===se.onChange,isOnAll:e===se.all,isOnTouch:e===se.onTouched});const St="AsyncFunction";var Fr=e=>!!e&&!!e.validate&&!!(ie(e.validate)&&e.validate.constructor.name===St||G(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===St)),Cr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),_t=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Re=(e,r,t,i)=>{for(const n of t||Object.keys(e)){const s=T(e,n);if(s){const{_f:l,...a}=s;if(l){if(l.refs&&l.refs[0]&&r(l.refs[0],n)&&!i)return!0;if(l.ref&&r(l.ref,l.name)&&!i)return!0;if(Re(a,r))break}else if(G(a)&&Re(a,r))break}}};function Dt(e,r,t){const i=T(e,t);if(i||Ae(t))return{error:i,name:t};const n=t.split(".");for(;n.length;){const s=n.join("."),l=T(r,s),a=T(e,s);if(l&&!Array.isArray(l)&&t!==s)return{name:t};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};n.pop()}return{name:t}}var Tr=(e,r,t,i)=>{t(e);const{name:n,...s}=e;return ee(s)||Object.keys(s).length>=Object.keys(r).length||Object.keys(s).find(l=>r[l]===(!i||se.all))},Mr=(e,r,t)=>!e||!r||e===r||Ee(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),Nr=(e,r,t,i,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(r||e):(t?i.isOnBlur:n.isOnBlur)?!e:(t?i.isOnChange:n.isOnChange)?e:!0,zr=(e,r)=>!et(T(e,r)).length&&q(e,r),Pr=(e,r,t)=>{const i=Ee(T(e,t));return H(i,"root",r[t]),H(e,t,i),e};function Et(e,r,t="validate"){if(re(e)||Array.isArray(e)&&e.every(re)||le(e)&&!e)return{type:t,message:re(e)?e:"",ref:r}}var be=e=>G(e)&&!Ve(e)?e:{value:e,message:""},Rt=async(e,r,t,i,n,s)=>{const{ref:l,refs:a,required:R,maxLength:b,minLength:P,min:p,max:_,pattern:y,validate:M,name:w,valueAsNumber:v,mount:x}=e._f,h=T(t,w);if(!x||r.has(w))return{};const g=a?a[0]:l,S=k=>{n&&g.reportValidity&&(g.setCustomValidity(le(k)?"":k||""),g.reportValidity())},D={},N=it(l),d=Fe(l),c=N||d,C=(v||rt(l))&&I(l.value)&&I(h)||ke(l)&&l.value===""||h===""||Array.isArray(h)&&!h.length,A=xr.bind(null,w,i,D),O=(k,V,W,U=de.maxLength,L=de.minLength)=>{const Q=k?V:W;D[w]={type:k?U:L,message:Q,ref:l,...A(k?U:L,Q)}};if(s?!Array.isArray(h)||!h.length:R&&(!c&&(C||te(h))||le(h)&&!h||d&&!Gt(a).isValid||N&&!Qt(a).isValid)){const{value:k,message:V}=re(R)?{value:!!R,message:R}:be(R);if(k&&(D[w]={type:de.required,message:V,ref:g,...A(de.required,V)},!i))return S(V),D}if(!C&&(!te(p)||!te(_))){let k,V;const W=be(_),U=be(p);if(!te(h)&&!isNaN(h)){const L=l.valueAsNumber||h&&+h;te(W.value)||(k=L>W.value),te(U.value)||(V=L<U.value)}else{const L=l.valueAsDate||new Date(h),Q=fe=>new Date(new Date().toDateString()+" "+fe),ne=l.type=="time",ue=l.type=="week";re(W.value)&&h&&(k=ne?Q(h)>Q(W.value):ue?h>W.value:L>new Date(W.value)),re(U.value)&&h&&(V=ne?Q(h)<Q(U.value):ue?h<U.value:L<new Date(U.value))}if((k||V)&&(O(!!k,W.message,U.message,de.max,de.min),!i))return S(D[w].message),D}if((b||P)&&!C&&(re(h)||s&&Array.isArray(h))){const k=be(b),V=be(P),W=!te(k.value)&&h.length>+k.value,U=!te(V.value)&&h.length<+V.value;if((W||U)&&(O(W,k.message,V.message),!i))return S(D[w].message),D}if(y&&!C&&re(h)){const{value:k,message:V}=be(y);if(Ve(k)&&!h.match(k)&&(D[w]={type:de.pattern,message:V,ref:l,...A(de.pattern,V)},!i))return S(V),D}if(M){if(ie(M)){const k=await M(h,t),V=Et(k,g);if(V&&(D[w]={...V,...A(de.validate,V.message)},!i))return S(V.message),D}else if(G(M)){let k={};for(const V in M){if(!ee(k)&&!i)break;const W=Et(await M[V](h,t),g,V);W&&(k={...W,...A(V,W.message)},S(W.message),i&&(D[w]=k))}if(!ee(k)&&(D[w]={ref:g,...k},!i))return D}}return S(!0),D};const kr={mode:se.onSubmit,reValidateMode:se.onChange,shouldFocusError:!0};function Vr(e={}){let r={...kr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:ie(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},i={},n=G(r.defaultValues)||G(r.values)?K(r.defaultValues||r.values)||{}:{},s=r.shouldUnregister?{}:K(n),l={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},R,b=0;const P={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={...P};let _={...p};const y={array:yt(),state:yt()},M=r.criteriaMode===se.all,w=o=>u=>{clearTimeout(b),b=setTimeout(o,u)},v=async o=>{if(!l.keepIsValid&&!r.disabled&&(p.isValid||_.isValid||o)){let u;r.resolver?(u=ee((await c()).errors),x()):u=await A(i,!0),u!==t.isValid&&y.state.next({isValid:u})}},x=(o,u)=>{!r.disabled&&(p.isValidating||p.validatingFields||_.isValidating||_.validatingFields)&&((o||Array.from(a.mount)).forEach(f=>{f&&(u?H(t.validatingFields,f,u):q(t.validatingFields,f))}),y.state.next({validatingFields:t.validatingFields,isValidating:!ee(t.validatingFields)}))},h=(o,u=[],f,F,E=!0,m=!0)=>{if(F&&f&&!r.disabled){if(l.action=!0,m&&Array.isArray(T(i,o))){const z=f(T(i,o),F.argA,F.argB);E&&H(i,o,z)}if(m&&Array.isArray(T(t.errors,o))){const z=f(T(t.errors,o),F.argA,F.argB);E&&H(t.errors,o,z),zr(t.errors,o)}if((p.touchedFields||_.touchedFields)&&m&&Array.isArray(T(t.touchedFields,o))){const z=f(T(t.touchedFields,o),F.argA,F.argB);E&&H(t.touchedFields,o,z)}(p.dirtyFields||_.dirtyFields)&&(t.dirtyFields=xe(n,s)),y.state.next({name:o,isDirty:k(o,u),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else H(s,o,u)},g=(o,u)=>{H(t.errors,o,u),y.state.next({errors:t.errors})},S=o=>{t.errors=o,y.state.next({errors:t.errors,isValid:!1})},D=(o,u,f,F)=>{const E=T(i,o);if(E){const m=T(s,o,I(f)?T(n,o):f);I(m)||F&&F.defaultChecked||u?H(s,o,u?m:wt(E._f)):U(o,m),l.mount&&!l.action&&v()}},N=(o,u,f,F,E)=>{let m=!1,z=!1;const j={name:o};if(!r.disabled){if(!f||F){(p.isDirty||_.isDirty)&&(z=t.isDirty,t.isDirty=j.isDirty=k(),m=z!==j.isDirty);const B=ge(T(n,o),u);z=!!T(t.dirtyFields,o),B?q(t.dirtyFields,o):H(t.dirtyFields,o,!0),j.dirtyFields=t.dirtyFields,m=m||(p.dirtyFields||_.dirtyFields)&&z!==!B}if(f){const B=T(t.touchedFields,o);B||(H(t.touchedFields,o,f),j.touchedFields=t.touchedFields,m=m||(p.touchedFields||_.touchedFields)&&B!==f)}m&&E&&y.state.next(j)}return m?j:{}},d=(o,u,f,F)=>{const E=T(t.errors,o),m=(p.isValid||_.isValid)&&le(u)&&t.isValid!==u;if(r.delayError&&f?(R=w(()=>g(o,f)),R(r.delayError)):(clearTimeout(b),R=null,f?H(t.errors,o,f):q(t.errors,o)),(f?!ge(E,f):E)||!ee(F)||m){const z={...F,...m&&le(u)?{isValid:u}:{},errors:t.errors,name:o};t={...t,...z},y.state.next(z)}},c=async o=>(x(o,!0),await r.resolver(s,r.context,Rr(o||a.mount,i,r.criteriaMode,r.shouldUseNativeValidation))),C=async o=>{const{errors:u}=await c(o);if(x(o),o)for(const f of o){const F=T(u,f);F?H(t.errors,f,F):q(t.errors,f)}else t.errors=u;return u},A=async(o,u,f={valid:!0})=>{for(const F in o){const E=o[F];if(E){const{_f:m,...z}=E;if(m){const j=a.array.has(m.name),B=E._f&&Fr(E._f);B&&p.validatingFields&&x([m.name],!0);const Z=await Rt(E,a.disabled,s,M,r.shouldUseNativeValidation&&!u,j);if(B&&p.validatingFields&&x([m.name]),Z[m.name]&&(f.valid=!1,u||e.shouldUseNativeValidation))break;!u&&(T(Z,m.name)?j?Pr(t.errors,Z,m.name):H(t.errors,m.name,Z[m.name]):q(t.errors,m.name))}!ee(z)&&await A(z,u,f)}}return f.valid},O=()=>{for(const o of a.unMount){const u=T(i,o);u&&(u._f.refs?u._f.refs.every(f=>!Ie(f)):!Ie(u._f.ref))&&Le(o)}a.unMount=new Set},k=(o,u)=>!r.disabled&&(o&&u&&H(s,o,u),!ge(We(),n)),V=(o,u,f)=>br(o,a,{...l.mount?s:I(u)?n:re(o)?{[o]:u}:u},f,u),W=o=>et(T(l.mount?s:n,o,r.shouldUnregister?T(n,o,[]):[])),U=(o,u,f={})=>{const F=T(i,o);let E=u;if(F){const m=F._f;m&&(!m.disabled&&H(s,o,Kt(u,m)),E=ke(m.ref)&&te(u)?"":u,qt(m.ref)?[...m.ref.options].forEach(z=>z.selected=E.includes(z.value)):m.refs?Fe(m.ref)?m.refs.forEach(z=>{(!z.defaultChecked||!z.disabled)&&(Array.isArray(E)?z.checked=!!E.find(j=>j===z.value):z.checked=E===z.value||!!E)}):m.refs.forEach(z=>z.checked=z.value===E):rt(m.ref)?m.ref.value="":(m.ref.value=E,m.ref.type||y.state.next({name:o,values:K(s)})))}(f.shouldDirty||f.shouldTouch)&&N(o,E,f.shouldTouch,f.shouldDirty,!0),f.shouldValidate&&fe(o)},L=(o,u,f)=>{for(const F in u){if(!u.hasOwnProperty(F))return;const E=u[F],m=o+"."+F,z=T(i,m);(a.array.has(o)||G(E)||z&&!z._f)&&!me(E)?L(m,E,f):U(m,E,f)}},Q=(o,u,f={})=>{const F=T(i,o),E=a.array.has(o),m=K(u);H(s,o,m),E?(y.array.next({name:o,values:K(s)}),(p.isDirty||p.dirtyFields||_.isDirty||_.dirtyFields)&&f.shouldDirty&&y.state.next({name:o,dirtyFields:xe(n,s),isDirty:k(o,m)})):F&&!F._f&&!te(m)?L(o,m,f):U(o,m,f),_t(o,a)?y.state.next({...t,name:o,values:K(s)}):y.state.next({name:l.mount?o:void 0,values:K(s)})},ne=async o=>{l.mount=!0;const u=o.target;let f=u.name,F=!0;const E=T(i,f),m=B=>{F=Number.isNaN(B)||me(B)&&isNaN(B.getTime())||ge(B,T(s,f,B))},z=xt(r.mode),j=xt(r.reValidateMode);if(E){let B,Z;const ye=u.type?wt(E._f):cr(o),ce=o.type===gt.BLUR||o.type===gt.FOCUS_OUT,lr=!Cr(E._f)&&!r.resolver&&!T(t.errors,f)&&!E._f.deps||Nr(ce,T(t.touchedFields,f),t.isSubmitted,j,z),Ue=_t(f,a,ce);H(s,f,ye),ce?(!u||!u.readOnly)&&(E._f.onBlur&&E._f.onBlur(o),R&&R(0)):E._f.onChange&&E._f.onChange(o);const He=N(f,ye,ce),ur=!ee(He)||Ue;if(!ce&&y.state.next({name:f,type:o.type,values:K(s)}),lr)return(p.isValid||_.isValid)&&(r.mode==="onBlur"?ce&&v():ce||v()),ur&&y.state.next({name:f,...Ue?{}:He});if(!ce&&Ue&&y.state.next({...t}),r.resolver){const{errors:ht}=await c([f]);if(x([f]),m(ye),F){const dr=Dt(t.errors,i,f),pt=Dt(ht,i,dr.name||f);B=pt.error,f=pt.name,Z=ee(ht)}}else x([f],!0),B=(await Rt(E,a.disabled,s,M,r.shouldUseNativeValidation))[f],x([f]),m(ye),F&&(B?Z=!1:(p.isValid||_.isValid)&&(Z=await A(i,!0)));F&&(E._f.deps&&(!Array.isArray(E._f.deps)||E._f.deps.length>0)&&fe(E._f.deps),d(f,Z,B,He))}},ue=(o,u)=>{if(T(t.errors,u)&&o.focus)return o.focus(),1},fe=async(o,u={})=>{let f,F;const E=Ee(o);if(r.resolver){const m=await C(I(o)?o:E);f=ee(m),F=o?!E.some(z=>T(m,z)):f}else o?(F=(await Promise.all(E.map(async m=>{const z=T(i,m);return await A(z&&z._f?{[m]:z}:z)}))).every(Boolean),!(!F&&!t.isValid)&&v()):F=f=await A(i);return y.state.next({...!re(o)||(p.isValid||_.isValid)&&f!==t.isValid?{}:{name:o},...r.resolver||!o?{isValid:f}:{},errors:t.errors}),u.shouldFocus&&!F&&Re(i,ue,o?E:a.mount),F},We=(o,u)=>{let f={...l.mount?s:n};return u&&(f=Xt(u.dirtyFields?t.dirtyFields:t.touchedFields,f)),I(o)?f:re(o)?T(f,o):o.map(F=>T(f,F))},nt=(o,u)=>({invalid:!!T((u||t).errors,o),isDirty:!!T((u||t).dirtyFields,o),error:T((u||t).errors,o),isValidating:!!T(t.validatingFields,o),isTouched:!!T((u||t).touchedFields,o)}),tr=o=>{o&&Ee(o).forEach(u=>q(t.errors,u)),y.state.next({errors:o?t.errors:{}})},ot=(o,u,f)=>{const F=(T(i,o,{_f:{}})._f||{}).ref,E=T(t.errors,o)||{},{ref:m,message:z,type:j,...B}=E;H(t.errors,o,{...B,...u,ref:F}),y.state.next({name:o,errors:t.errors,isValid:!1}),f&&f.shouldFocus&&F&&F.focus&&F.focus()},rr=(o,u)=>ie(o)?y.state.subscribe({next:f=>"values"in f&&o(V(void 0,u),f)}):V(o,u,!0),at=o=>y.state.subscribe({next:u=>{Mr(o.name,u.name,o.exact)&&Tr(u,o.formState||p,ar,o.reRenderRoot)&&o.callback({values:{...s},...t,...u,defaultValues:n})}}).unsubscribe,ir=o=>(l.mount=!0,_={..._,...o.formState},at({...o,formState:{...P,...o.formState}})),Le=(o,u={})=>{for(const f of o?Ee(o):a.mount)a.mount.delete(f),a.array.delete(f),u.keepValue||(q(i,f),q(s,f)),!u.keepError&&q(t.errors,f),!u.keepDirty&&q(t.dirtyFields,f),!u.keepTouched&&q(t.touchedFields,f),!u.keepIsValidating&&q(t.validatingFields,f),!r.shouldUnregister&&!u.keepDefaultValue&&q(n,f);y.state.next({values:K(s)}),y.state.next({...t,...u.keepDirty?{isDirty:k()}:{}}),!u.keepIsValid&&v()},lt=({disabled:o,name:u})=>{if(le(o)&&l.mount||o||a.disabled.has(u)){const E=a.disabled.has(u)!==!!o;o?a.disabled.add(u):a.disabled.delete(u),E&&l.mount&&!l.action&&v()}},je=(o,u={})=>{let f=T(i,o);const F=le(u.disabled)||le(r.disabled);return H(i,o,{...f||{},_f:{...f&&f._f?f._f:{ref:{name:o}},name:o,mount:!0,...u}}),a.mount.add(o),f?lt({disabled:le(u.disabled)?u.disabled:r.disabled,name:o}):D(o,!0,u.value),{...F?{disabled:u.disabled||r.disabled}:{},...r.progressive?{required:!!u.required,min:Se(u.min),max:Se(u.max),minLength:Se(u.minLength),maxLength:Se(u.maxLength),pattern:Se(u.pattern)}:{},name:o,onChange:ne,onBlur:ne,ref:E=>{if(E){je(o,u),f=T(i,o);const m=I(E.value)&&E.querySelectorAll&&E.querySelectorAll("input,select,textarea")[0]||E,z=Sr(m),j=f._f.refs||[];if(z?j.find(B=>B===m):m===f._f.ref)return;H(i,o,{_f:{...f._f,...z?{refs:[...j.filter(Ie),m,...Array.isArray(T(n,o))?[{}]:[]],ref:{type:m.type,name:o}}:{ref:m}}}),D(o,!1,void 0,m)}else f=T(i,o,{}),f._f&&(f._f.mount=!1),(r.shouldUnregister||u.shouldUnregister)&&!(pr(a.array,o)&&l.action)&&a.unMount.add(o)}}},Be=()=>r.shouldFocusError&&Re(i,ue,a.mount),sr=o=>{le(o)&&(y.state.next({disabled:o}),Re(i,(u,f)=>{const F=T(i,f);F&&(u.disabled=F._f.disabled||o,Array.isArray(F._f.refs)&&F._f.refs.forEach(E=>{E.disabled=F._f.disabled||o}))},0,!1))},ut=(o,u)=>async f=>{let F;f&&(f.preventDefault&&f.preventDefault(),f.persist&&f.persist());let E=K(s);if(y.state.next({isSubmitting:!0}),r.resolver){const{errors:m,values:z}=await c();x(),t.errors=m,E=K(z)}else await A(i);if(a.disabled.size)for(const m of a.disabled)q(E,m);if(q(t.errors,"root"),ee(t.errors)){y.state.next({errors:{}});try{await o(E,f)}catch(m){F=m}}else u&&await u({...t.errors},f),Be(),setTimeout(Be);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ee(t.errors)&&!F,submitCount:t.submitCount+1,errors:t.errors}),F)throw F},nr=(o,u={})=>{T(i,o)&&(I(u.defaultValue)?Q(o,K(T(n,o))):(Q(o,u.defaultValue),H(n,o,K(u.defaultValue))),u.keepTouched||q(t.touchedFields,o),u.keepDirty||(q(t.dirtyFields,o),t.isDirty=u.defaultValue?k(o,K(T(n,o))):k()),u.keepError||(q(t.errors,o),p.isValid&&v()),y.state.next({...t}))},dt=(o,u={})=>{const f=o?K(o):n,F=K(f),E=ee(o),m=E?n:F;if(u.keepDefaultValues||(n=f),!u.keepValues){if(u.keepDirtyValues){const z=new Set([...a.mount,...Object.keys(xe(n,s))]);for(const j of Array.from(z)){const B=T(t.dirtyFields,j),Z=T(s,j),ye=T(m,j);B&&!I(Z)?H(m,j,Z):!B&&!I(ye)&&Q(j,ye)}}else{if(Je&&I(o))for(const z of a.mount){const j=T(i,z);if(j&&j._f){const B=Array.isArray(j._f.refs)?j._f.refs[0]:j._f.ref;if(ke(B)){const Z=B.closest("form");if(Z){Z.reset();break}}}}if(u.keepFieldsRef)for(const z of a.mount)Q(z,T(m,z));else i={}}s=r.shouldUnregister?u.keepDefaultValues?K(n):{}:K(m),y.array.next({values:{...m}}),y.state.next({values:{...m}})}a={mount:u.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!u.keepIsValid||!!u.keepDirtyValues||!r.shouldUnregister&&!ee(m),l.watch=!!r.shouldUnregister,l.keepIsValid=!!u.keepIsValid,l.action=!1,u.keepErrors||(t.errors={}),y.state.next({submitCount:u.keepSubmitCount?t.submitCount:0,isDirty:E?!1:u.keepDirty?t.isDirty:!!(u.keepDefaultValues&&!ge(o,n)),isSubmitted:u.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:E?{}:u.keepDirtyValues?u.keepDefaultValues&&s?xe(n,s):t.dirtyFields:u.keepDefaultValues&&o?xe(n,o):u.keepDirty?t.dirtyFields:{},touchedFields:u.keepTouched?t.touchedFields:{},errors:u.keepErrors?t.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:n})},ft=(o,u)=>dt(ie(o)?o(s):o,{...r.resetOptions,...u}),or=(o,u={})=>{const f=T(i,o),F=f&&f._f;if(F){const E=F.refs?F.refs[0]:F.ref;E.focus&&setTimeout(()=>{E.focus(),u.shouldSelect&&ie(E.select)&&E.select()})}},ar=o=>{t={...t,...o}},ct={control:{register:je,unregister:Le,getFieldState:nt,handleSubmit:ut,setError:ot,_subscribe:at,_runSchema:c,_updateIsValidating:x,_focusError:Be,_getWatch:V,_getDirty:k,_setValid:v,_setFieldArray:h,_setDisabledField:lt,_setErrors:S,_getFieldArray:W,_reset:dt,_resetDefaultValues:()=>ie(r.defaultValues)&&r.defaultValues().then(o=>{ft(o,r.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:sr,_subjects:y,_proxyFormState:p,get _fields(){return i},get _formValues(){return s},get _state(){return l},set _state(o){l=o},get _defaultValues(){return n},get _names(){return a},set _names(o){a=o},get _formState(){return t},get _options(){return r},set _options(o){r={...r,...o}}},subscribe:ir,trigger:fe,register:je,handleSubmit:ut,watch:rr,setValue:Q,getValues:We,reset:ft,resetField:nr,clearErrors:tr,unregister:Le,setError:ot,setFocus:or,getFieldState:nt};return{...ct,formControl:ct}}function Ar(e={}){const r=J.useRef(void 0),t=J.useRef(void 0),[i,n]=J.useState({isDirty:!1,isValidating:!1,isLoading:ie(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ie(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!ie(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...a}=Vr(e);r.current={...a,formState:i}}const s=r.current.control;return s._options=e,mr(()=>{const l=s._subscribe({formState:s._proxyFormState,callback:()=>n({...s._formState}),reRenderRoot:!0});return n(a=>({...a,isReady:!0})),s._formState.isReady=!0,l},[s]),J.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),J.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),J.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),J.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),J.useEffect(()=>{if(s._proxyFormState.isDirty){const l=s._getDirty();l!==i.isDirty&&s._subjects.state.next({isDirty:l})}},[s,i.isDirty]),J.useEffect(()=>{var l;e.values&&!ge(e.values,t.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((l=s._options.resetOptions)===null||l===void 0)&&l.keepIsValid||s._setValid(),t.current=e.values,n(a=>({...a}))):s._resetDefaultValues()},[s,e.values]),J.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),r.current.formState=J.useMemo(()=>vr(i,s),[s,i]),r.current}var _e={exports:{}},Ye={},Xe={exports:{}},qe,Ft;function Or(){if(Ft)return qe;Ft=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qe=e,qe}var $e,Ct;function Wr(){if(Ct)return $e;Ct=1;var e=Or();function r(){}function t(){}return t.resetWarningCache=r,$e=function(){function i(l,a,R,b,P,p){if(p!==e){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}i.isRequired=i;function n(){return i}var s={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:n,element:i,elementType:i,instanceOf:n,node:i,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:r};return s.PropTypes=s,s},$e}var Tt;function Zt(){return Tt||(Tt=1,Xe.exports=Wr()()),Xe.exports}var Ce={exports:{}},Mt;function Lr(){if(Mt)return Ce.exports;Mt=1;function e(t){var i,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(i=0;i<l;i++)t[i]&&(n=e(t[i]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function r(){for(var t,i,n=0,s="",l=arguments.length;n<l;n++)(t=arguments[n])&&(i=e(t))&&(s&&(s+=" "),s+=i);return s}return Ce.exports=r,Ce.exports.clsx=r,Ce.exports}var X={},he={},Nt;function Oe(){if(Nt)return he;Nt=1,Object.defineProperty(he,"__esModule",{value:!0}),he.dontSetMe=n,he.findInArray=e,he.int=i,he.isFunction=r,he.isNum=t;function e(s,l){for(let a=0,R=s.length;a<R;a++)if(l.apply(l,[s[a],a,s]))return s[a]}function r(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Function]"}function t(s){return typeof s=="number"&&!isNaN(s)}function i(s){return parseInt(s,10)}function n(s,l,a){if(s[l])return new Error(`Invalid prop ${l} passed to ${a} - do not set this, set it on the child.`)}return he}var pe={},zt;function jr(){if(zt)return pe;zt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.browserPrefixToKey=t,pe.browserPrefixToStyle=i,pe.default=void 0,pe.getPrefix=r;const e=["Moz","Webkit","O","ms"];function r(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=window.document?.documentElement?.style;if(!l||s in l)return"";for(let a=0;a<e.length;a++)if(t(s,e[a])in l)return e[a];return""}function t(s,l){return l?`${l}${n(s)}`:s}function i(s,l){return l?`-${l.toLowerCase()}-${s}`:s}function n(s){let l="",a=!0;for(let R=0;R<s.length;R++)a?(l+=s[R].toUpperCase(),a=!1):s[R]==="-"?a=!0:l+=s[R];return l}return pe.default=r(),pe}var Pt;function st(){if(Pt)return X;Pt=1,Object.defineProperty(X,"__esModule",{value:!0}),X.addClassName=D,X.addEvent=l,X.addUserSelectStyles=h,X.createCSSTransform=y,X.createSVGTransform=M,X.getTouch=v,X.getTouchIdentifier=x,X.getTranslation=w,X.innerHeight=P,X.innerWidth=p,X.matchesSelector=n,X.matchesSelectorAndParentsTo=s,X.offsetXYFromParent=_,X.outerHeight=R,X.outerWidth=b,X.removeClassName=N,X.removeEvent=a,X.scheduleRemoveUserSelectStyles=g;var e=Oe(),r=t(jr());function t(d,c){if(typeof WeakMap=="function")var C=new WeakMap,A=new WeakMap;return(t=function(O,k){if(!k&&O&&O.__esModule)return O;var V,W,U={__proto__:null,default:O};if(O===null||typeof O!="object"&&typeof O!="function")return U;if(V=k?A:C){if(V.has(O))return V.get(O);V.set(O,U)}for(const L in O)L!=="default"&&{}.hasOwnProperty.call(O,L)&&((W=(V=Object.defineProperty)&&Object.getOwnPropertyDescriptor(O,L))&&(W.get||W.set)?V(U,L,W):U[L]=O[L]);return U})(d,c)}let i="";function n(d,c){return i||(i=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(C){return(0,e.isFunction)(d[C])})),(0,e.isFunction)(d[i])?d[i](c):!1}function s(d,c,C){let A=d;do{if(n(A,c))return!0;if(A===C)return!1;A=A.parentNode}while(A);return!1}function l(d,c,C,A){if(!d)return;const O={capture:!0,...A};d.addEventListener?d.addEventListener(c,C,O):d.attachEvent?d.attachEvent("on"+c,C):d["on"+c]=C}function a(d,c,C,A){if(!d)return;const O={capture:!0,...A};d.removeEventListener?d.removeEventListener(c,C,O):d.detachEvent?d.detachEvent("on"+c,C):d["on"+c]=null}function R(d){let c=d.clientHeight;const C=d.ownerDocument.defaultView.getComputedStyle(d);return c+=(0,e.int)(C.borderTopWidth),c+=(0,e.int)(C.borderBottomWidth),c}function b(d){let c=d.clientWidth;const C=d.ownerDocument.defaultView.getComputedStyle(d);return c+=(0,e.int)(C.borderLeftWidth),c+=(0,e.int)(C.borderRightWidth),c}function P(d){let c=d.clientHeight;const C=d.ownerDocument.defaultView.getComputedStyle(d);return c-=(0,e.int)(C.paddingTop),c-=(0,e.int)(C.paddingBottom),c}function p(d){let c=d.clientWidth;const C=d.ownerDocument.defaultView.getComputedStyle(d);return c-=(0,e.int)(C.paddingLeft),c-=(0,e.int)(C.paddingRight),c}function _(d,c,C){const O=c===c.ownerDocument.body?{left:0,top:0}:c.getBoundingClientRect(),k=(d.clientX+c.scrollLeft-O.left)/C,V=(d.clientY+c.scrollTop-O.top)/C;return{x:k,y:V}}function y(d,c){const C=w(d,c,"px");return{[(0,r.browserPrefixToKey)("transform",r.default)]:C}}function M(d,c){return w(d,c,"")}function w(d,c,C){let{x:A,y:O}=d,k=`translate(${A}${C},${O}${C})`;if(c){const V=`${typeof c.x=="string"?c.x:c.x+C}`,W=`${typeof c.y=="string"?c.y:c.y+C}`;k=`translate(${V}, ${W})`+k}return k}function v(d,c){return d.targetTouches&&(0,e.findInArray)(d.targetTouches,C=>c===C.identifier)||d.changedTouches&&(0,e.findInArray)(d.changedTouches,C=>c===C.identifier)}function x(d){if(d.targetTouches&&d.targetTouches[0])return d.targetTouches[0].identifier;if(d.changedTouches&&d.changedTouches[0])return d.changedTouches[0].identifier}function h(d){if(!d)return;let c=d.getElementById("react-draggable-style-el");c||(c=d.createElement("style"),c.type="text/css",c.id="react-draggable-style-el",c.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,c.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,d.getElementsByTagName("head")[0].appendChild(c)),d.body&&D(d.body,"react-draggable-transparent-selection")}function g(d){window.requestAnimationFrame?window.requestAnimationFrame(()=>{S(d)}):S(d)}function S(d){if(d)try{if(d.body&&N(d.body,"react-draggable-transparent-selection"),d.selection)d.selection.empty();else{const c=(d.defaultView||window).getSelection();c&&c.type!=="Caret"&&c.removeAllRanges()}}catch{}}function D(d,c){d.classList?d.classList.add(c):d.className.match(new RegExp(`(?:^|\\s)${c}(?!\\S)`))||(d.className+=` ${c}`)}function N(d,c){d.classList?d.classList.remove(c):d.className=d.className.replace(new RegExp(`(?:^|\\s)${c}(?!\\S)`,"g"),"")}return X}var oe={},kt;function Jt(){if(kt)return oe;kt=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.canDragX=n,oe.canDragY=s,oe.createCoreData=a,oe.createDraggableData=R,oe.getBoundPosition=t,oe.getControlPosition=l,oe.snapToGrid=i;var e=Oe(),r=st();function t(p,_,y){if(!p.props.bounds)return[_,y];let{bounds:M}=p.props;M=typeof M=="string"?M:b(M);const w=P(p);if(typeof M=="string"){const{ownerDocument:v}=w,x=v.defaultView;let h;if(M==="parent"?h=w.parentNode:h=w.getRootNode().querySelector(M),!(h instanceof x.HTMLElement))throw new Error('Bounds selector "'+M+'" could not find an element.');const g=h,S=x.getComputedStyle(w),D=x.getComputedStyle(g);M={left:-w.offsetLeft+(0,e.int)(D.paddingLeft)+(0,e.int)(S.marginLeft),top:-w.offsetTop+(0,e.int)(D.paddingTop)+(0,e.int)(S.marginTop),right:(0,r.innerWidth)(g)-(0,r.outerWidth)(w)-w.offsetLeft+(0,e.int)(D.paddingRight)-(0,e.int)(S.marginRight),bottom:(0,r.innerHeight)(g)-(0,r.outerHeight)(w)-w.offsetTop+(0,e.int)(D.paddingBottom)-(0,e.int)(S.marginBottom)}}return(0,e.isNum)(M.right)&&(_=Math.min(_,M.right)),(0,e.isNum)(M.bottom)&&(y=Math.min(y,M.bottom)),(0,e.isNum)(M.left)&&(_=Math.max(_,M.left)),(0,e.isNum)(M.top)&&(y=Math.max(y,M.top)),[_,y]}function i(p,_,y){const M=Math.round(_/p[0])*p[0],w=Math.round(y/p[1])*p[1];return[M,w]}function n(p){return p.props.axis==="both"||p.props.axis==="x"}function s(p){return p.props.axis==="both"||p.props.axis==="y"}function l(p,_,y){const M=typeof _=="number"?(0,r.getTouch)(p,_):null;if(typeof _=="number"&&!M)return null;const w=P(y),v=y.props.offsetParent||w.offsetParent||w.ownerDocument.body;return(0,r.offsetXYFromParent)(M||p,v,y.props.scale)}function a(p,_,y){const M=!(0,e.isNum)(p.lastX),w=P(p);return M?{node:w,deltaX:0,deltaY:0,lastX:_,lastY:y,x:_,y}:{node:w,deltaX:_-p.lastX,deltaY:y-p.lastY,lastX:p.lastX,lastY:p.lastY,x:_,y}}function R(p,_){const y=p.props.scale;return{node:_.node,x:p.state.x+_.deltaX/y,y:p.state.y+_.deltaY/y,deltaX:_.deltaX/y,deltaY:_.deltaY/y,lastX:p.state.x,lastY:p.state.y}}function b(p){return{left:p.left,top:p.top,right:p.right,bottom:p.bottom}}function P(p){const _=p.findDOMNode();if(!_)throw new Error("<DraggableCore>: Unmounted during event!");return _}return oe}var De={},Te={},Vt;function er(){if(Vt)return Te;Vt=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=e;function e(){}return Te}var At;function Br(){if(At)return De;At=1,Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var e=R(It()),r=a(Zt()),t=a(Ze()),i=st(),n=Jt(),s=Oe(),l=a(er());function a(w){return w&&w.__esModule?w:{default:w}}function R(w,v){if(typeof WeakMap=="function")var x=new WeakMap,h=new WeakMap;return(R=function(g,S){if(!S&&g&&g.__esModule)return g;var D,N,d={__proto__:null,default:g};if(g===null||typeof g!="object"&&typeof g!="function")return d;if(D=S?h:x){if(D.has(g))return D.get(g);D.set(g,d)}for(const c in g)c!=="default"&&{}.hasOwnProperty.call(g,c)&&((N=(D=Object.defineProperty)&&Object.getOwnPropertyDescriptor(g,c))&&(N.get||N.set)?D(d,c,N):d[c]=g[c]);return d})(w,v)}function b(w,v,x){return(v=P(v))in w?Object.defineProperty(w,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[v]=x,w}function P(w){var v=p(w,"string");return typeof v=="symbol"?v:v+""}function p(w,v){if(typeof w!="object"||!w)return w;var x=w[Symbol.toPrimitive];if(x!==void 0){var h=x.call(w,v);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}const _={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let y=_.mouse,M=class extends e.Component{constructor(){super(...arguments),b(this,"dragging",!1),b(this,"lastX",NaN),b(this,"lastY",NaN),b(this,"touchIdentifier",null),b(this,"mounted",!1),b(this,"handleDragStart",v=>{if(this.props.onMouseDown(v),!this.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;const x=this.findDOMNode();if(!x||!x.ownerDocument||!x.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:h}=x;if(this.props.disabled||!(v.target instanceof h.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(v.target,this.props.handle,x)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(v.target,this.props.cancel,x))return;v.type==="touchstart"&&!this.props.allowMobileScroll&&v.preventDefault();const g=(0,i.getTouchIdentifier)(v);this.touchIdentifier=g;const S=(0,n.getControlPosition)(v,g,this);if(S==null)return;const{x:D,y:N}=S,d=(0,n.createCoreData)(this,D,N);(0,l.default)("DraggableCore: handleDragStart: %j",d),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(v,d)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(h),this.dragging=!0,this.lastX=D,this.lastY=N,(0,i.addEvent)(h,y.move,this.handleDrag),(0,i.addEvent)(h,y.stop,this.handleDragStop))}),b(this,"handleDrag",v=>{const x=(0,n.getControlPosition)(v,this.touchIdentifier,this);if(x==null)return;let{x:h,y:g}=x;if(Array.isArray(this.props.grid)){let N=h-this.lastX,d=g-this.lastY;if([N,d]=(0,n.snapToGrid)(this.props.grid,N,d),!N&&!d)return;h=this.lastX+N,g=this.lastY+d}const S=(0,n.createCoreData)(this,h,g);if((0,l.default)("DraggableCore: handleDrag: %j",S),this.props.onDrag(v,S)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(d)}return}this.lastX=h,this.lastY=g}),b(this,"handleDragStop",v=>{if(!this.dragging)return;const x=(0,n.getControlPosition)(v,this.touchIdentifier,this);if(x==null)return;let{x:h,y:g}=x;if(Array.isArray(this.props.grid)){let d=h-this.lastX||0,c=g-this.lastY||0;[d,c]=(0,n.snapToGrid)(this.props.grid,d,c),h=this.lastX+d,g=this.lastY+c}const S=(0,n.createCoreData)(this,h,g);if(this.props.onStop(v,S)===!1||this.mounted===!1)return!1;const N=this.findDOMNode();N&&this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(N.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",S),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,N&&((0,l.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(N.ownerDocument,y.move,this.handleDrag),(0,i.removeEvent)(N.ownerDocument,y.stop,this.handleDragStop))}),b(this,"onMouseDown",v=>(y=_.mouse,this.handleDragStart(v))),b(this,"onMouseUp",v=>(y=_.mouse,this.handleDragStop(v))),b(this,"onTouchStart",v=>(y=_.touch,this.handleDragStart(v))),b(this,"onTouchEnd",v=>(y=_.touch,this.handleDragStop(v)))}componentDidMount(){this.mounted=!0;const v=this.findDOMNode();v&&(0,i.addEvent)(v,_.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const v=this.findDOMNode();if(v){const{ownerDocument:x}=v;(0,i.removeEvent)(x,_.mouse.move,this.handleDrag),(0,i.removeEvent)(x,_.touch.move,this.handleDrag),(0,i.removeEvent)(x,_.mouse.stop,this.handleDragStop),(0,i.removeEvent)(x,_.touch.stop,this.handleDragStop),(0,i.removeEvent)(v,_.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(x)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:t.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return De.default=M,b(M,"displayName","DraggableCore"),b(M,"propTypes",{allowAnyClick:r.default.bool,allowMobileScroll:r.default.bool,children:r.default.node.isRequired,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(w,v){if(w[v]&&w[v].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe}),b(M,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),De}var Ot;function Ur(){return Ot||(Ot=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return R.default}}),e.default=void 0;var r=p(It()),t=P(Zt()),i=P(Ze()),n=Lr(),s=st(),l=Jt(),a=Oe(),R=P(Br()),b=P(er());function P(x){return x&&x.__esModule?x:{default:x}}function p(x,h){if(typeof WeakMap=="function")var g=new WeakMap,S=new WeakMap;return(p=function(D,N){if(!N&&D&&D.__esModule)return D;var d,c,C={__proto__:null,default:D};if(D===null||typeof D!="object"&&typeof D!="function")return C;if(d=N?S:g){if(d.has(D))return d.get(D);d.set(D,C)}for(const A in D)A!=="default"&&{}.hasOwnProperty.call(D,A)&&((c=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(D,A))&&(c.get||c.set)?d(C,A,c):C[A]=D[A]);return C})(x,h)}function _(){return _=Object.assign?Object.assign.bind():function(x){for(var h=1;h<arguments.length;h++){var g=arguments[h];for(var S in g)({}).hasOwnProperty.call(g,S)&&(x[S]=g[S])}return x},_.apply(null,arguments)}function y(x,h,g){return(h=M(h))in x?Object.defineProperty(x,h,{value:g,enumerable:!0,configurable:!0,writable:!0}):x[h]=g,x}function M(x){var h=w(x,"string");return typeof h=="symbol"?h:h+""}function w(x,h){if(typeof x!="object"||!x)return x;var g=x[Symbol.toPrimitive];if(g!==void 0){var S=g.call(x,h);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(h==="string"?String:Number)(x)}class v extends r.Component{static getDerivedStateFromProps(h,g){let{position:S}=h,{prevPropsPosition:D}=g;return S&&(!D||S.x!==D.x||S.y!==D.y)?((0,b.default)("Draggable: getDerivedStateFromProps %j",{position:S,prevPropsPosition:D}),{x:S.x,y:S.y,prevPropsPosition:{...S}}):null}constructor(h){super(h),y(this,"onDragStart",(g,S)=>{if((0,b.default)("Draggable: onDragStart: %j",S),this.props.onStart(g,(0,l.createDraggableData)(this,S))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(g,S)=>{if(!this.state.dragging)return!1;(0,b.default)("Draggable: onDrag: %j",S);const D=(0,l.createDraggableData)(this,S),N={x:D.x,y:D.y,slackX:0,slackY:0};if(this.props.bounds){const{x:c,y:C}=N;N.x+=this.state.slackX,N.y+=this.state.slackY;const[A,O]=(0,l.getBoundPosition)(this,N.x,N.y);N.x=A,N.y=O,N.slackX=this.state.slackX+(c-N.x),N.slackY=this.state.slackY+(C-N.y),D.x=N.x,D.y=N.y,D.deltaX=N.x-this.state.x,D.deltaY=N.y-this.state.y}if(this.props.onDrag(g,D)===!1)return!1;this.setState(N)}),y(this,"onDragStop",(g,S)=>{if(!this.state.dragging||this.props.onStop(g,(0,l.createDraggableData)(this,S))===!1)return!1;(0,b.default)("Draggable: onDragStop: %j",S);const N={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:c,y:C}=this.props.position;N.x=c,N.y=C}this.setState(N)}),this.state={dragging:!1,dragged:!1,x:h.position?h.position.x:h.defaultPosition.x,y:h.position?h.position.y:h.defaultPosition.y,prevPropsPosition:{...h.position},slackX:0,slackY:0,isElementSVG:!1},h.position&&!(h.onDrag||h.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??i.default.findDOMNode(this)}render(){const{axis:h,bounds:g,children:S,defaultPosition:D,defaultClassName:N,defaultClassNameDragging:d,defaultClassNameDragged:c,position:C,positionOffset:A,scale:O,...k}=this.props;let V={},W=null;const L=!!!C||this.state.dragging,Q=C||D,ne={x:(0,l.canDragX)(this)&&L?this.state.x:Q.x,y:(0,l.canDragY)(this)&&L?this.state.y:Q.y};this.state.isElementSVG?W=(0,s.createSVGTransform)(ne,A):V=(0,s.createCSSTransform)(ne,A);const ue=(0,n.clsx)(S.props.className||"",N,{[d]:this.state.dragging,[c]:this.state.dragged});return r.createElement(R.default,_({},k,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(S),{className:ue,style:{...S.props.style,...V},transform:W}))}}e.default=v,y(v,"displayName","Draggable"),y(v,"propTypes",{...R.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),y(v,"defaultProps",{...R.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ye)),Ye}var Wt;function Hr(){if(Wt)return _e.exports;Wt=1;const{default:e,DraggableCore:r}=Ur();return _e.exports=e,_e.exports.default=e,_e.exports.DraggableCore=r,_e.exports}var Ir=Hr();const Yr=fr(Ir);var Xr=Ze(),$=function(){return $=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$.apply(this,arguments)},Lt={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},jt={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Me={width:"20px",height:"20px",position:"absolute",zIndex:1},qr={top:$($({},Lt),{top:"-5px"}),right:$($({},jt),{left:void 0,right:"-5px"}),bottom:$($({},Lt),{top:void 0,bottom:"-5px"}),left:$($({},jt),{left:"-5px"}),topRight:$($({},Me),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:$($({},Me),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:$($({},Me),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:$($({},Me),{left:"-10px",top:"-10px",cursor:"nw-resize"})},$r=ve.memo(function(e){var r=e.onResizeStart,t=e.direction,i=e.children,n=e.replaceStyles,s=e.className,l=ve.useCallback(function(b){r(b,t)},[r,t]),a=ve.useCallback(function(b){r(b,t)},[r,t]),R=ve.useMemo(function(){return $($({position:"absolute",userSelect:"none"},qr[t]),n??{})},[n,t]);return Y.jsx("div",{className:s||void 0,style:R,onMouseDown:l,onTouchStart:a,children:i})}),Gr=(function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function i(){this.constructor=r}r.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}})(),ae=function(){return ae=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ae.apply(this,arguments)},Kr={width:"auto",height:"auto"},Ne=function(e,r,t){return Math.max(Math.min(e,t),r)},Bt=function(e,r,t){var i=Math.round(e/r);return i*r+t*(i-1)},we=function(e,r){return new RegExp(e,"i").test(r)},ze=function(e){return!!(e.touches&&e.touches.length)},Qr=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},Ut=function(e,r,t){t===void 0&&(t=0);var i=r.reduce(function(s,l,a){return Math.abs(l-e)<Math.abs(r[s]-e)?a:s},0),n=Math.abs(r[i]-e);return t===0||n<t?r[i]:e},Ge=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:"".concat(e,"px")},Pe=function(e,r,t,i){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var n=Number(e.replace("%",""))/100;return r*n}if(e.endsWith("vw")){var n=Number(e.replace("vw",""))/100;return t*n}if(e.endsWith("vh")){var n=Number(e.replace("vh",""))/100;return i*n}}return e},Zr=function(e,r,t,i,n,s,l){return i=Pe(i,e.width,r,t),n=Pe(n,e.height,r,t),s=Pe(s,e.width,r,t),l=Pe(l,e.height,r,t),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof n>"u"?void 0:Number(n),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof l>"u"?void 0:Number(l)}},Jr=function(e){return Array.isArray(e)?e:[e,e]},ei=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Ht="__resizable_base__",ti=(function(e){Gr(r,e);function r(t){var i,n,s,l,a=e.call(this,t)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var R=a.parentNode;if(!R)return null;var b=a.window.document.createElement("div");return b.style.width="100%",b.style.height="100%",b.style.position="absolute",b.style.transform="scale(0, 0)",b.style.left="0",b.style.flex="0 0 100%",b.classList?b.classList.add(Ht):b.className+=Ht,R.appendChild(b),b},a.removeBase=function(R){var b=a.parentNode;b&&b.removeChild(R)},a.state={isResizing:!1,width:(n=(i=a.propsSize)===null||i===void 0?void 0:i.width)!==null&&n!==void 0?n:"auto",height:(l=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&l!==void 0?l:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Kr},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var t=0,i=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,s=this.resizable.offsetHeight,l=this.resizable.style.position;l!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:n,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=l}return{width:t,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var t=this,i=this.props.size,n=function(a){var R;if(typeof t.state[a]>"u"||t.state[a]==="auto")return"auto";if(t.propsSize&&t.propsSize[a]&&(!((R=t.propsSize[a])===null||R===void 0)&&R.toString().endsWith("%"))){if(t.state[a].toString().endsWith("%"))return t.state[a].toString();var b=t.getParentSize(),P=Number(t.state[a].toString().replace("px","")),p=P/b[a]*100;return"".concat(p,"%")}return Ge(t.state[a])},s=i&&typeof i.width<"u"&&!this.state.isResizing?Ge(i.width):n("width"),l=i&&typeof i.height<"u"&&!this.state.isResizing?Ge(i.height):n("height");return{width:s,height:l}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var i=!1,n=this.parentNode.style.flexWrap;n!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var s={width:t.offsetWidth,height:t.offsetHeight};return i&&(this.parentNode.style.flexWrap=n),this.removeBase(t),s},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(t,i){var n=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===t&&(typeof n>"u"||n==="auto")?"auto":t},r.prototype.calculateNewMaxFromBoundary=function(t,i){var n=this.props.boundsByDirection,s=this.state.direction,l=n&&we("left",s),a=n&&we("top",s),R,b;if(this.props.bounds==="parent"){var P=this.parentNode;P&&(R=l?this.resizableRight-this.parentLeft:P.offsetWidth+(this.parentLeft-this.resizableLeft),b=a?this.resizableBottom-this.parentTop:P.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(R=l?this.resizableRight:this.window.innerWidth-this.resizableLeft,b=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(R=l?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),b=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return R&&Number.isFinite(R)&&(t=t&&t<R?t:R),b&&Number.isFinite(b)&&(i=i&&i<b?i:b),{maxWidth:t,maxHeight:i}},r.prototype.calculateNewSizeFromDirection=function(t,i){var n=this.props.scale||1,s=Jr(this.props.resizeRatio||1),l=s[0],a=s[1],R=this.state,b=R.direction,P=R.original,p=this.props,_=p.lockAspectRatio,y=p.lockAspectRatioExtraHeight,M=p.lockAspectRatioExtraWidth,w=P.width,v=P.height,x=y||0,h=M||0;return we("right",b)&&(w=P.width+(t-P.x)*l/n,_&&(v=(w-h)/this.ratio+x)),we("left",b)&&(w=P.width-(t-P.x)*l/n,_&&(v=(w-h)/this.ratio+x)),we("bottom",b)&&(v=P.height+(i-P.y)*a/n,_&&(w=(v-x)*this.ratio+h)),we("top",b)&&(v=P.height-(i-P.y)*a/n,_&&(w=(v-x)*this.ratio+h)),{newWidth:w,newHeight:v}},r.prototype.calculateNewSizeFromAspectRatio=function(t,i,n,s){var l=this.props,a=l.lockAspectRatio,R=l.lockAspectRatioExtraHeight,b=l.lockAspectRatioExtraWidth,P=typeof s.width>"u"?10:s.width,p=typeof n.width>"u"||n.width<0?t:n.width,_=typeof s.height>"u"?10:s.height,y=typeof n.height>"u"||n.height<0?i:n.height,M=R||0,w=b||0;if(a){var v=(_-M)*this.ratio+w,x=(y-M)*this.ratio+w,h=(P-w)/this.ratio+M,g=(p-w)/this.ratio+M,S=Math.max(P,v),D=Math.min(p,x),N=Math.max(_,h),d=Math.min(y,g);t=Ne(t,S,D),i=Ne(i,N,d)}else t=Ne(t,P,p),i=Ne(i,_,y);return{newWidth:t,newHeight:i}},r.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var n=i.getBoundingClientRect();this.parentLeft=n.left*t,this.parentTop=n.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*t,this.targetTop=s.top*t}if(this.resizable){var l=this.resizable.getBoundingClientRect(),a=l.left,R=l.top,b=l.right,P=l.bottom;this.resizableLeft=a*t,this.resizableRight=b*t,this.resizableTop=R*t,this.resizableBottom=P*t}},r.prototype.onResizeStart=function(t,i){if(!(!this.resizable||!this.window)){var n=0,s=0;if(t.nativeEvent&&Qr(t.nativeEvent)?(n=t.nativeEvent.clientX,s=t.nativeEvent.clientY):t.nativeEvent&&ze(t.nativeEvent)&&(n=t.nativeEvent.touches[0].clientX,s=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var l=this.props.onResizeStart(t,i,this.resizable);if(l===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,R=this.window.getComputedStyle(this.resizable);if(R.flexBasis!=="auto"){var b=this.parentNode;if(b){var P=this.window.getComputedStyle(b).flexDirection;this.flexDir=P.startsWith("row")?"row":"column",a=R.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:n,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:ae(ae({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:i,flexBasis:a};this.setState(p)}},r.prototype.onMouseMove=function(t){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ze(t))try{t.preventDefault(),t.stopPropagation()}catch{}var n=this.props,s=n.maxWidth,l=n.maxHeight,a=n.minWidth,R=n.minHeight,b=ze(t)?t.touches[0].clientX:t.clientX,P=ze(t)?t.touches[0].clientY:t.clientY,p=this.state,_=p.direction,y=p.original,M=p.width,w=p.height,v=this.getParentSize(),x=Zr(v,this.window.innerWidth,this.window.innerHeight,s,l,a,R);s=x.maxWidth,l=x.maxHeight,a=x.minWidth,R=x.minHeight;var h=this.calculateNewSizeFromDirection(b,P),g=h.newHeight,S=h.newWidth,D=this.calculateNewMaxFromBoundary(s,l);this.props.snap&&this.props.snap.x&&(S=Ut(S,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(g=Ut(g,this.props.snap.y,this.props.snapGap));var N=this.calculateNewSizeFromAspectRatio(S,g,{width:D.maxWidth,height:D.maxHeight},{width:a,height:R});if(S=N.newWidth,g=N.newHeight,this.props.grid){var d=Bt(S,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),c=Bt(g,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),C=this.props.snapGap||0,A=C===0||Math.abs(d-S)<=C?d:S,O=C===0||Math.abs(c-g)<=C?c:g;S=A,g=O}var k={width:S-y.width,height:g-y.height};if(this.delta=k,M&&typeof M=="string"){if(M.endsWith("%")){var V=S/v.width*100;S="".concat(V,"%")}else if(M.endsWith("vw")){var W=S/this.window.innerWidth*100;S="".concat(W,"vw")}else if(M.endsWith("vh")){var U=S/this.window.innerHeight*100;S="".concat(U,"vh")}}if(w&&typeof w=="string"){if(w.endsWith("%")){var V=g/v.height*100;g="".concat(V,"%")}else if(w.endsWith("vw")){var W=g/this.window.innerWidth*100;g="".concat(W,"vw")}else if(w.endsWith("vh")){var U=g/this.window.innerHeight*100;g="".concat(U,"vh")}}var L={width:this.createSizeForCssProperty(S,"width"),height:this.createSizeForCssProperty(g,"height")};this.flexDir==="row"?L.flexBasis=L.width:this.flexDir==="column"&&(L.flexBasis=L.height);var Q=this.state.width!==L.width,ne=this.state.height!==L.height,ue=this.state.flexBasis!==L.flexBasis,fe=Q||ne||ue;fe&&Xr.flushSync(function(){i.setState(L)}),this.props.onResize&&fe&&this.props.onResize(t,_,this.resizable,k)}},r.prototype.onMouseUp=function(t){var i,n,s=this.state,l=s.isResizing,a=s.direction;s.original,!(!l||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,a,this.resizable,this.delta),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(n=this.props.size.height)!==null&&n!==void 0?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:ae(ae({},this.state.backgroundStyle),{cursor:"auto"})}))},r.prototype.updateSize=function(t){var i,n;this.setState({width:(i=t.width)!==null&&i!==void 0?i:"auto",height:(n=t.height)!==null&&n!==void 0?n:"auto"})},r.prototype.renderResizer=function(){var t=this,i=this.props,n=i.enable,s=i.handleStyles,l=i.handleClasses,a=i.handleWrapperStyle,R=i.handleWrapperClass,b=i.handleComponent;if(!n)return null;var P=Object.keys(n).map(function(p){return n[p]!==!1?Y.jsx($r,{direction:p,onResizeStart:t.onResizeStart,replaceStyles:s&&s[p],className:l&&l[p],children:b&&b[p]?b[p]:null},p):null});return Y.jsx("div",{className:R,style:a,children:P})},r.prototype.render=function(){var t=this,i=Object.keys(this.props).reduce(function(l,a){return ei.indexOf(a)!==-1||(l[a]=t.props[a]),l},{}),n=ae(ae(ae({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return Y.jsxs(s,ae({style:n,className:this.props.className},i,{ref:function(l){l&&(t.resizable=l)},children:[this.state.isResizing&&Y.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r})(ve.PureComponent);const ri={id:"general_comments",label:"General Comments",type:"textarea"},ai=({isOpen:e,onClose:r,activeSection:t,allFeedback:i,onSaveDraft:n,onFinalSubmit:s,questionData:l})=>{const a=ve.useRef(null),{register:R,handleSubmit:b,reset:P,setValue:p,watch:_}=Ar(),y=l[t]||l.default,M=[...y.questions,ri],w=y.sectionTitle,v=_(),x=g=>{const S={};return M.forEach(D=>{g[D.id]!==void 0&&(S[D.id]=g[D.id])}),S};ve.useEffect(()=>{if(e){P({});const g=i[t]||{};M.forEach(S=>{p(S.id,g[S.id]||"")})}},[t,e,p,P]);const h=g=>{n(t,x(g)),r()};return e?Y.jsx("div",{className:"fixed inset-0 z-[9999] pointer-events-none flex items-center justify-center",children:Y.jsx(Yr,{nodeRef:a,handle:".drag-handle",bounds:"parent",children:Y.jsx("div",{ref:a,className:"pointer-events-auto",style:{position:"absolute"},children:Y.jsxs(ti,{defaultSize:{width:520,height:"auto"},className:"bg-white rounded-xl shadow-2xl border border-gray-300 flex flex-col overflow-hidden",children:[Y.jsxs("div",{className:"drag-handle bg-gray-50 border-b border-gray-200 p-4 flex justify-between items-center cursor-grab",children:[Y.jsxs("div",{className:"flex flex-col",children:[Y.jsx("h2",{style:{color:"#00007a",display:"block"},className:"text-xl font-bold tracking-tight",children:"Feedback Form"}),Y.jsxs("span",{style:{color:"#00007a",opacity:.7},className:"text-[10px] font-black uppercase tracking-widest",children:["Section: ",w]})]}),Y.jsx("button",{onClick:r,style:{color:"#00007a"},className:"text-3xl leading-none hover:text-red-600 transition-colors",children:""})]}),Y.jsxs("form",{onSubmit:b(h),className:"p-5 space-y-4 bg-white overflow-y-auto max-h-[60vh]",children:[M.map(g=>Y.jsxs("div",{children:[Y.jsx("label",{style:{color:"#1e1b4b"},className:"block text-xs font-black uppercase mb-1",children:g.label}),g.type==="number"?Y.jsx("input",{type:"number",...R(g.id),min:g.min,max:g.max,className:"w-20 p-2 border border-gray-300 rounded-lg text-base"}):Y.jsx("textarea",{...R(g.id),className:"w-full p-3 border border-gray-300 rounded-lg text-base min-h-[80px] focus:ring-2 focus:ring-blue-500"})]},g.id)),Y.jsxs("div",{className:"pt-4 border-t border-gray-100 flex flex-col gap-3",children:[Y.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-50 text-indigo-700 rounded-lg font-bold text-sm hover:bg-indigo-100 transition-colors",children:["Save Notes for ",w]}),Y.jsx("button",{type:"button",onClick:()=>s(t,x(v)),style:{backgroundColor:"#00007a"},className:"w-full py-4 text-white rounded-lg font-bold text-base hover:opacity-90 shadow-md transition-all",children:"Finalize & Send Email"})]})]})]})})})}):null};export{ai as F};
