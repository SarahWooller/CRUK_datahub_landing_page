import{j as e}from"./client-BbprRhkc.js";import{f as z}from"./Header-CFaTcuLs.js";import{c as q,e as Z,g as K,i as V,p as J,f as Q}from"./filterLogic-0ZuHXgRT.js";import{R as ee,f as G}from"./longer_filter_data-CDFXIz1i.js";const{useState:C,useMemo:B,useCallback:P,useEffect:Y}=ee,y=({items:s,handleFilterChange:r,selectedFilters:i,level:o=0})=>{if(!s||s.length===0)return null;const t=Array.isArray(s)?s:Object.values(s);return e.jsx("div",{className:"nested-list space-y-1",children:t.map(d=>e.jsx(se,{item:d,handleFilterChange:r,selectedFilters:i,level:o},d.id))})},se=({item:s,handleFilterChange:r,selectedFilters:i,level:o})=>{const t=s.id,d=s.children?Object.values(s.children):[],c=d.length>0,a=i.has(t),x=s.description&&s.description.trim().length>0,[l,h]=C(!1),m=S=>{S.preventDefault(),h(T=>!T)},_={paddingLeft:o>0?`${o*1.25}rem`:"0"},D=(z.get(t)||{}).group;return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center group hover:var(--cruk-pink) p-1 -m-1 rounded transition duration-100",style:_,children:[c?e.jsx("button",{type:"button",className:`transition-transform duration-200 w-4 h-4 flex items-center justify-center text-gray-500 hover:var(--cruk-pink)  mr-1 ${l?"rotate-90":""}`,onClick:m,"aria-expanded":l,children:e.jsx("svg",{className:"w-3 h-3 transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}):e.jsx("span",{className:"w-4 h-4 mr-1"}),e.jsx("input",{type:"checkbox",id:t,className:"rounded text-[var(--cruk-pink)] border-gray-300 focus:ring-[var(--cruk-pink)] mr-2 w-4 h-4 cursor-pointer","data-filter-group":D,checked:a,onChange:()=>r(t)}),e.jsxs("div",{className:"relative flex-grow flex items-center group/tooltip hover:z-20",children:[e.jsxs("label",{htmlFor:t,className:"text-gray-700 select-none flex-grow cursor-pointer text-sm flex items-center",children:[s.label,x&&e.jsx("svg",{className:"w-3 h-3 ml-1 text-gray-400 opacity-50 group-hover/tooltip:opacity-100 transition-opacity",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})]}),x&&e.jsxs("div",{className:"absolute top-full left-4 mt-1 hidden group-hover/tooltip:block w-64 p-2 bg-[var(--cruk-blue)] text-white text-xs rounded shadow-xl cursor-auto whitespace-normal",children:[s.description,e.jsx("div",{className:"absolute bottom-full left-4 -mb-px border-4 border-transparent border-b-[var(--cruk-blue)]"})]})]})]}),c&&l&&e.jsx(y,{items:d,handleFilterChange:r,selectedFilters:i,level:o+1})]})},W=({selectedFilters:s,logicMessage:r,setLogicMessage:i,isMessageManuallyEdited:o,setIsMessageManuallyEdited:t})=>{const d=P(x=>{i(x.target.value),t(!0)},[i,t]),c=P(()=>{const x=Array.from(s),l=q(x,Q,J,V,K);i(l),t(!1)},[s,i,t]);if(!s||s.size===0)return null;const a=o;return e.jsxs("div",{className:"p-1 mt-2 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"Filter Logic: once you have chosen your filters you can adjust the logic below."}),a&&e.jsx("button",{type:"button",onClick:c,className:"text-xs text-blue-600 hover:text-blue-800 transition duration-150 font-medium py-1 px-2 rounded border border-blue-300 hover:bg-blue-50",children:"Reset to Auto Logic"})]}),e.jsx("textarea",{id:"logic-summary-message",className:"w-full text-xs text-gray-800 bg-gray-50 p-2 rounded break-words font-mono border border-gray-300 resize-y focus:ring-[var(--cruk-pink)] focus:border-[var(--cruk-pink)]",value:r||"No filters selected",onChange:d,rows:Math.max(2,Math.ceil((r||"No filters selected").length/100))}),o&&e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Note: Filter logic has been manually edited. If you need to add filters reset logic first"})]})};W.utilityFunctions={filterType:Q,plusParents:J,includeParents:V,getMessage:K};const te=({selectedFilters:s,handleFilterChange:r,logicMessage:i,setLogicMessage:o,isMessageManuallyEdited:t,setIsMessageManuallyEdited:d})=>{const c=B(()=>Array.from(s).map(x=>{const l=z.get(x);if(!l)return null;const m=l.group==="cancer-type"?"bg-[var(--cruk-white)] text-[var(--cruk-pink)] border border-[var(--cruk-pink)]":"bg-[var(--cruk-white)] text-[var(--cruk-blue)] border border-[var(--cruk-blue)]";return{fullId:x,label:l.label,category:l.category,chipClass:m}}).filter(Boolean),[s]);return c.length===0?null:e.jsxs("div",{id:"selected-filters-area",className:"bg-white rounded-b-xl shadow-lg border-b border-l border-r border-gray-300 p-3 transition duration-300 ease-in-out",children:[e.jsx("div",{id:"filter-chip-list",className:"flex items-start flex-wrap gap-2 text-sm",children:c.map(a=>e.jsxs("div",{className:`filter-chip inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold shadow-sm ${a.chipClass}`,children:[e.jsxs("span",{className:"mr-1 opacity-75",children:[a.category,":"]}),e.jsx("span",{className:"font-bold",children:a.label}),e.jsx("button",{type:"button",className:"ml-2 h-4 w-4 rounded-full flex items-center justify-center hover:bg-white hover:bg-opacity-50 transition duration-150",onClick:()=>r(a.fullId),"aria-label":`Remove filter ${a.label}`,children:e.jsx("svg",{className:"w-3 h-3 fill-current",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},a.fullId))}),e.jsx(W,{selectedFilters:s,logicMessage:i,setLogicMessage:o,isMessageManuallyEdited:t,setIsMessageManuallyEdited:d})]})},re=({isOpen:s,onClose:r})=>s?e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black bg-opacity-50",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-[var(--cruk-blue)]",children:"How to use filters"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 p-2",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-6 text-lg text-gray-700",children:[e.jsx("section",{children:e.jsx("p",{children:"The list of studies can be filtered to pick out those with relating to specific cancers, including particular data or matching your accessibility needs."})}),e.jsxs("section",{children:[e.jsx("h3",{className:"font-bold text-[var(--cruk-pink)] mb-2",children:"1. Selecting Categories"}),e.jsxs("p",{children:["Use the top tabs to switch between ",e.jsx("strong",{children:"Cancer Type"}),", ",e.jsx("strong",{children:"Data Type"}),", and ",e.jsx("strong",{children:"Accessibility"})," categories."]}),e.jsx("p",{children:"You can search for cancers using CRUK terms, TCGA codes, or ICD-O classifications."})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"font-bold text-[var(--cruk-pink)] mb-2",children:"2. Searching for Terms"}),e.jsxs("p",{children:["In each category, use the search bar to find specific terms. You must enter at least ",e.jsx("strong",{children:"4 characters"})," to start the search."]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"font-bold text-[var(--cruk-pink)] mb-2",children:"3. Expanding Options"}),e.jsxs("p",{children:["Wherever there is a ",e.jsx("strong",{children:"chevron (>)"})," next to a filter name, you can click to see more specific sub-categories."]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"font-bold text-[var(--cruk-pink)] mb-2",children:"4. Adjusting Logic"}),e.jsxs("p",{children:["Filters appear as chips. You can manually edit the ",e.jsx("strong",{children:"Filter Logic"})," text box if you need to combine filters using specific logic (e.g., AND/OR)."]})]})]}),e.jsx("div",{className:"mt-8 pt-4 border-t flex justify-end",children:e.jsx("button",{onClick:r,className:"bg-[var(--cruk-blue)] text-white font-bold py-2 px-6 rounded-lg hover:opacity-90",children:"Got it"})})]})})}):null,xe=()=>{const[s,r]=C(null),[i,o]=C(new Set),[t,d]=C(""),[c,a]=C(!1),[x,l]=C(!1),[h,m]=C(""),[_,g]=C(null),[D,S]=C(!1),T=B(()=>Array.from(z.values()),[]),{filterType:A,plusParents:O,includeParents:v,getMessage:N}=W.utilityFunctions;Y(()=>{if(!c){const n=Array.from(i),f=q(n,A,O,v,N);d(f)}},[i,c,A,O,v,N]),Y(()=>{if(!h||h.length<4){g(null),S(!1);return}const n=setTimeout(()=>{S(!0);const u={cancer:"cancer-type",data:"data-type",access:"access"}[s];if(!u){g(null),S(!1);return}const I=h.toLowerCase(),b=T.filter(L=>L.group!==u?!1:L.label.toLowerCase().includes(I)),M=new Set(b.map(L=>L.id));g(M),S(!1)},300);return()=>clearTimeout(n)},[h,s,T]);const p=P((n,f)=>{if(!n)return null;if(!f)return n;const u={};return(Array.isArray(n)?n:Object.values(n)).forEach(b=>{const M=p(b.children,f),L=f.has(b.id),X=M&&Object.keys(M).length>0;if(L||X){const H={...b};M&&(H.children=M),u[b.id]=H}}),Object.keys(u).length>0?u:null},[]),w=B(()=>{let n=0,f=0,u=0;return i.forEach(I=>{const b=z.get(I);b&&(b.group==="cancer-type"?n++:b.group==="data-type"?f++:b.group==="access"&&u++)}),{total:i.size,cancer:n,data:f,access:u}},[i]),R=P(n=>{o(f=>{const u=new Set(f);return u.has(n)?u.delete(n):u.add(n),c&&a(!1),u})},[c]),E=P(()=>{o(new Set),r(null),m(""),d(""),a(!1)},[]),$=P(()=>{if(console.log(`Executing search with ${w.total} filters. Current logic message: ${t}`),w.total>0&&t){const n=Z(t);n.success&&console.log(`Successfully found ${n.count} studies.`)}else console.log("No studies to find. Please select filters first.");r(null)},[w.total,t]),F=()=>{const n={handleFilterChange:R,selectedFilters:i,searchTerm:h,setSearchTerm:m,filteredIds:_,isSearching:D,pruneHierarchy:p};switch(s){case"cancer":return e.jsx(ae,{...n});case"data":return e.jsx(le,{...n});case"access":return e.jsx(ie,{...n});default:return null}},k=n=>`nav-button flex-grow px-4 py-3 text-center text-lg font-medium border-b-4 transition duration-150 ${s===n?"bg-white text-[var(--cruk-pink)] border-[var(--cruk-pink)]":"text-gray-600 hover:bg-gray-50 border-transparent"}`,j=w.total===0;return e.jsxs("div",{className:"p-2 sm:p-8 bg-gray-50",children:[e.jsx(re,{isOpen:x,onClose:()=>l(!1)}),e.jsx("div",{id:"filter-container",className:"w-full flex flex-col",children:e.jsxs("div",{className:"flex flex-col bg-white rounded-xl shadow-lg border border-gray-300 overflow-hidden",children:[e.jsxs("div",{id:"filter-navbar",className:"flex flex-col sm:flex-row flex-shrink-0 w-full bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-stretch sm:w-3/4",children:[e.jsxs("div",{className:"p-4 sm:pr-8 sm:w-1/4 flex items-center justify-between border-b sm:border-b-0 sm:border-r border-gray-200",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-[var(--cruk-blue)]",children:"Study Filters"}),e.jsx("button",{onClick:()=>l(!0),className:"ml-4 px-3 py-1 font-bold text-xs text-white bg-[var(--cruk-blue)] rounded-lg shadow-sm hover:opacity-90 transition duration-150 whitespace-nowrap",children:"Help"})]}),e.jsxs("div",{className:"flex flex-grow justify-around sm:w-3/4",children:[e.jsxs("button",{onClick:()=>{r("cancer"),m("")},className:k("cancer"),children:["Cancer Type ",e.jsxs("span",{className:"text-sm opacity-80 font-normal ml-2",children:["(",w.cancer," Selected)"]})]}),e.jsxs("button",{onClick:()=>{r("data"),m("")},className:k("data"),children:["Data Type ",e.jsxs("span",{className:"text-sm opacity-80 font-normal ml-2",children:["(",w.data," Selected)"]})]}),e.jsxs("button",{onClick:()=>{r("access"),m("")},className:k("access"),children:["Accessibility ",e.jsxs("span",{className:"text-sm opacity-80 font-normal ml-2",children:["(",w.access," Selected)"]})]})]})]}),e.jsxs("div",{className:"flex flex-row sm:flex-col sm:w-1/4 p-2 sm:p-2 border-t sm:border-t-0 sm:border-l border-gray-200 justify-around items-center space-x-2 sm:space-x-0 sm:space-y-2",children:[e.jsx("button",{onClick:E,className:"w-1/2 sm:w-auto px-4 py-2 font-medium text-sm text-gray-500 hover:text-[var(--cruk-pink)] transition duration-150 bg-white rounded-lg shadow-sm border border-gray-300",children:"Clear"}),e.jsxs("button",{onClick:$,className:`w-1/2 sm:w-auto bg-[var(--cruk-pink)] text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-150 ${j?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,disabled:j,children:["Find (",w.total,")"]})]})]}),e.jsxs("div",{className:"flex-grow w-full p-0",children:[e.jsx(te,{selectedFilters:i,handleFilterChange:R,logicMessage:t,setLogicMessage:d,isMessageManuallyEdited:c,setIsMessageManuallyEdited:a}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:s?F():null})]})]})})]})},U=({searchTerm:s,setSearchTerm:r,isSearching:i,placeholder:o})=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"search",placeholder:o||"Search terms (min 4 characters)...",className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-[var(--cruk-pink)] focus:border-[var(--cruk-pink)] text-sm",value:s,onChange:t=>r(t.target.value)}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-[var(--cruk-pink)]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),s&&s.length<4&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please enter at least 4 characters to search."})]}),ae=({handleFilterChange:s,selectedFilters:r,searchTerm:i,setSearchTerm:o,filteredIds:t,isSearching:d,pruneHierarchy:c})=>{const[a,x]=C(null),l=G["0_0"].children,h=c(l["0_0_0"]?.children,t),m=c(l["0_0_1"]?.children,t),_=c(l["0_0_2"]?.children,t),g=l["0_0_3"]||{children:{}},D=c(g.children,t),S=l["0_0_4"]||{children:{}},T=c(S.children,t),A=({title:v,description:N,classificationKey:p,emoji:w})=>{const R=a===p,E="flex flex-col items-center justify-center p-6 bg-white rounded-lg shadow-md border-2 transition duration-200 cursor-pointer text-center relative",$="border-[var(--cruk-pink)] ring-4 ring-[var(--cruk-pink)]/20 shadow-lg scale-[1.02]",F="border-gray-200 hover:border-[var(--cruk-pink)]/50";let k=0;return p==="icdo"?r.forEach(j=>{(j.startsWith("0_0_0")||j.startsWith("0_0_1"))&&k++}):p==="cruk"&&l["0_0_2"]?r.forEach(j=>{j.startsWith("0_0_2")&&k++}):p==="snomed"&&l["0_0_3"]?r.forEach(j=>{j.startsWith("0_0_3")&&k++}):p==="tcga"&&l["0_0_4"]&&r.forEach(j=>{j.startsWith("0_0_4")&&k++}),e.jsxs("div",{className:`${E} ${R?$:F}`,onClick:()=>x(p),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-3xl",children:w}),e.jsx("h4",{className:"text-xl font-bold text-gray-800",children:v})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:N}),k>0&&e.jsxs("span",{className:"absolute top-2 right-2 px-2 py-0.5 text-xs font-semibold rounded-full bg-[var(--cruk-pink)] text-white",children:[k," Selected"]})]})},O=()=>{const v={handleFilterChange:s,selectedFilters:r},N="h-[250px] overflow-y-auto space-y-1 text-sm pr-2 pb-28",p=e.jsx(U,{searchTerm:i,setSearchTerm:o,isSearching:d,placeholder:`Search ${a.toUpperCase()} terms`});switch(a){case"cruk":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"CRUK Cancer Terms "}),p,e.jsx("div",{id:"cruk-terms-list",className:N,children:e.jsx(y,{items:_,...v})})]});case"tcga":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"TCGA Terms "}),p,e.jsx("div",{id:"tcga-terms-list",className:N,children:e.jsx(y,{items:T,...v})})]});case"snomed":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"SNOMED-CT Terms"}),p,e.jsx("div",{id:"snomed-terms-list",className:N,children:e.jsx(y,{items:D,...v})})]});case"icdo":return e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"ICD-O Classification"}),p,e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md shadow-inner border border-gray-200",children:[e.jsx("h4",{className:"text-base font-bold text-gray-700 mb-2",children:"Topography"}),e.jsx("div",{id:"icdo-topography-list",className:N,children:e.jsx(y,{items:h,...v})})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md shadow-inner border border-gray-200",children:[e.jsx("h4",{className:"text-base font-bold text-gray-700 mb-2",children:"Histology"}),e.jsx("div",{id:"icdo-histology-list",className:N,children:e.jsx(y,{items:m,...v})})]})]})]});default:return null}};return e.jsx("div",{id:"cancer-type-panel",className:"md:col-span-3 bg-white rounded-xl overflow-hidden flex flex-col",children:e.jsxs("div",{className:"p-3 sm:p-4 text-gray-600 flex-grow overflow-hidden",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-800 mb-3 border-b pb-2",children:a&&e.jsx("button",{type:"button",onClick:()=>{x(null),o("")},className:"px-3 py-1 text-sm rounded-md border border-gray-300 bg-white hover:bg-gray-100 text-gray-700",children:"â† Back to Cancer Type Selection"})}),!a&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-lg font-medium text-gray-700 mb-6",children:"Click on your choice of classification to begin"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(A,{title:"CRUK Cancer Terms",description:"Patient-friendly, simplified cancer terms.",classificationKey:"cruk",emoji:"ðŸ¥"}),e.jsx(A,{title:"TCGA Terms",description:"The Cancer Genome Atlas terminology.",classificationKey:"tcga",emoji:"ðŸ§¬"}),e.jsx(A,{title:"SNOMED-CT",description:"Systematized Nomenclature of Medicine.",classificationKey:"snomed",emoji:"ðŸ·ï¸"}),e.jsx(A,{title:"ICD-O Classification",description:"Official pathology terms (Topography & Histology).",classificationKey:"icdo",emoji:"ðŸ”¬"})]})]}),a&&e.jsx("div",{className:"mt-4 border p-4 rounded-lg bg-gray-50",children:O()})]})})},le=({handleFilterChange:s,selectedFilters:r,searchTerm:i,setSearchTerm:o,filteredIds:t,isSearching:d,pruneHierarchy:c})=>{const a=G["0_2"].children,x=c(a["0_2_0"].children,t),l=c(a["0_2_1"].children,t),h=c(a["0_2_2"].children,t),m=c(a["0_2_3"].children,t),_=c(a["0_2_4"].children,t),g="h-40 overflow-y-auto space-y-1 text-sm pr-2 pb-28";return e.jsx("div",{id:"data-type-panel",className:"md:col-span-3 bg-white rounded-xl overflow-hidden flex flex-col",children:e.jsxs("div",{className:"p-3 sm:p-4 text-gray-600 flex-grow overflow-hidden",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Data Type Selection"}),e.jsx(U,{searchTerm:i,setSearchTerm:o,isSearching:d,placeholder:"Search data types"}),e.jsx("p",{className:"text-sm italic text-gray-500 mb-2",children:"Select one or more modalities to include in your search."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsxs("div",{className:"border p-3 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2 border-b pb-1",children:"Biobank Samples"}),e.jsx("div",{id:"biobank-samples-list",className:g,children:e.jsx(y,{items:x,handleFilterChange:s,selectedFilters:r})})]}),e.jsxs("div",{className:"border p-3 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2 border-b pb-1",children:"In Vitro Studies"}),e.jsx("div",{id:"invitro-studies-list",className:g,children:e.jsx(y,{items:l,handleFilterChange:s,selectedFilters:r})})]}),e.jsxs("div",{className:"border p-3 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2 border-b pb-1",children:"Model Organisms"}),e.jsx("div",{id:"animal-studies-list",className:g,children:e.jsx(y,{items:h,handleFilterChange:s,selectedFilters:r})})]}),e.jsxs("div",{className:"border p-3 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2 border-b pb-1",children:"Patient Studies"}),e.jsx("div",{id:"patient-studies-list",className:g,children:e.jsx(y,{items:m,handleFilterChange:s,selectedFilters:r})})]}),e.jsxs("div",{className:"border p-3 rounded-lg bg-gray-50",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-700 mb-2 border-b pb-1",children:"Techniques"}),e.jsx("div",{id:"techniques-studies-list",className:g,children:e.jsx(y,{items:_,handleFilterChange:s,selectedFilters:r})})]})]})]})})},ie=({handleFilterChange:s,selectedFilters:r,searchTerm:i,setSearchTerm:o,filteredIds:t,isSearching:d,pruneHierarchy:c})=>{const a=Object.values(G["0_1"].children),x=B(()=>t?a.filter(l=>t.has(l.id)):a,[a,t]);return e.jsx("div",{id:"accessibility-panel",className:"md:col-span-3 bg-white rounded-xl overflow-hidden flex flex-col",children:e.jsxs("div",{className:"p-3 sm:p-4 text-gray-600 flex-grow overflow-hidden",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Accessibility and Source"}),e.jsx(U,{searchTerm:i,setSearchTerm:o,isSearching:d,placeholder:"Search accessibility/source terms"}),e.jsx("p",{className:"text-sm italic text-gray-500 mb-2",children:"Filter by data access level and source."}),e.jsx("div",{className:"h-32 overflow-y-auto pr-2 border p-3 rounded-lg pb-28",children:e.jsxs("div",{className:"space-y-2",children:[x.map(l=>{const h=l.id,m=r.has(h);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:h,className:"rounded text-[var(--cruk-pink)] border-gray-300 focus:ring-[var(--cruk-pink)] mr-2 w-4 h-4 cursor-pointer","data-filter-group":"access",checked:m,onChange:()=>s(h)}),e.jsxs("label",{htmlFor:h,className:"text-gray-700 select-none flex-grow cursor-pointer text-sm",children:[l.label," ",e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",l.count,")"]})]})]},l.id)}),d===!1&&i.length>=4&&x.length===0&&e.jsxs("p",{className:"text-sm text-gray-500",children:['No results found for "',i,'".']})]})})]})})};export{xe as F};
